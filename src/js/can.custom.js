/*!
 * CanJS - 2.0.7
 * http://canjs.us/
 * Copyright (c) 2014 Bitovi
 * Wed, 16 Apr 2014 09:49:15 GMT
 * Licensed MIT
 * Includes: can/construct/construct.js,can/control/control.js,can/construct/super/super.js,can/construct/proxy/proxy.js,can/control/plugin/plugin.js
 * Download from: http://bitbuilder.herokuapp.com/can.custom.js?configuration=jquery&minify=true&plugins=can%2Fconstruct%2Fconstruct.js&plugins=can%2Fcontrol%2Fcontrol.js&plugins=can%2Fconstruct%2Fsuper%2Fsuper.js&plugins=can%2Fconstruct%2Fproxy%2Fproxy.js&plugins=can%2Fcontrol%2Fplugin%2Fplugin.js
 */
(function(t){var e=function(){var t=window.can||{};("undefined"==typeof GLOBALCAN||GLOBALCAN!==!1)&&(window.can=t),t.isDeferred=function(t){var e=this.isFunction;return t&&e(t.then)&&e(t.pipe)};var e=0;return t.cid=function(t,n){return t._cid||(e++,t._cid=(n||"")+e),t._cid},t.VERSION="@EDGE",t.simpleExtend=function(t,e){for(var n in e)t[n]=e[n];return t},t}(),n=function(t){return t.each=function(e,n,r){var i,a=0;if(e)if("number"==typeof e.length&&e.pop)for(e.attr&&e.attr("length"),i=e.length;i>a&&n.call(r||e[a],e[a],a,e)!==!1;a++);else if(e.hasOwnProperty){t.Map&&e instanceof t.Map&&(t.__reading&&t.__reading(e,"__keys"),e=e.__get());for(i in e)if(e.hasOwnProperty(i)&&n.call(r||e[i],e[i],i,e)===!1)break}return e},t}(e),r=function(e){e.inserted=function(n){n=e.makeArray(n);for(var r,i,a=!1,o=e.$(document.contains?document:document.body),s=0;(i=n[s])!==t;s++){if(!a){if(!i.getElementsByTagName)continue;if(!e.has(o,i).length)return;a=!0}if(a&&i.getElementsByTagName){r=e.makeArray(i.getElementsByTagName("*")),e.trigger(i,"inserted",[],!1);for(var u,c=0;(u=r[c])!==t;c++)e.trigger(u,"inserted",[],!1)}}},e.appendChild=function(t,n){var r;r=11===n.nodeType?e.makeArray(n.childNodes):[n],t.appendChild(n),e.inserted(r)},e.insertBefore=function(t,n,r){var i;i=11===n.nodeType?e.makeArray(n.childNodes):[n],t.insertBefore(n,r),e.inserted(i)}}(e),i=function(t){return t.addEvent=function(t,e){var n=this.__bindEvents||(this.__bindEvents={}),r=n[t]||(n[t]=[]);return r.push({handler:e,name:t}),this},t.listenTo=function(e,n,r){var i=this.__listenToEvents;i||(i=this.__listenToEvents={});var a=t.cid(e),o=i[a];o||(o=i[a]={obj:e,events:{}});var s=o.events[n];s||(s=o.events[n]=[]),s.push(r),t.bind.call(e,n,r)},t.stopListening=function(e,n,r){var i=this.__listenToEvents,a=i,o=0;if(!i)return this;if(e){var s=t.cid(e);if((a={})[s]=i[s],!i[s])return this}for(var u in a){var c,l=a[u];e=i[u].obj,n?(c={})[n]=l.events[n]:c=l.events;for(var f in c){var h=c[f]||[];for(o=0;h.length>o;)r&&r===h[o]||!r?(t.unbind.call(e,f,h[o]),h.splice(o,1)):o++;h.length||delete l.events[f]}t.isEmptyObject(l.events)&&delete i[u]}return this},t.removeEvent=function(t,e){if(!this.__bindEvents)return this;for(var n,r=this.__bindEvents[t]||[],i=0,a="function"==typeof e;r.length>i;)n=r[i],a&&n.handler===e||!a&&n.cid===e?r.splice(i,1):i++;return this},t.dispatch=function(t,e){if(this.__bindEvents){"string"==typeof t&&(t={type:t});var n,r=t.type,i=(this.__bindEvents[r]||[]).slice(0);e=[t].concat(e||[]);for(var a=0,o=i.length;o>a;a++)n=i[a],n.handler.apply(this,e)}},t}(e),a=function(t,e){var n=function(t){return t.nodeName&&(1===t.nodeType||9===t.nodeType)||t==window};t.extend(e,t,{trigger:function(r,i,a){n(r)?t.event.trigger(i,a,r,!0):r.trigger?r.trigger(i,a):("string"==typeof i&&(i={type:i}),i.target=i.target||r,e.dispatch.call(r,i,a))},addEvent:e.addEvent,removeEvent:e.removeEvent,buildFragment:function(e,n){var r,i=t.buildFragment;return e=[e],n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,r=i.call(jQuery,e,n),r.cacheable?t.clone(r.fragment):r.fragment||r},$:t,each:e.each,bind:function(r,i){return this.bind&&this.bind!==e.bind?this.bind(r,i):n(this)?t.event.add(this,r,i):e.addEvent.call(this,r,i),this},unbind:function(r,i){return this.unbind&&this.unbind!==e.unbind?this.unbind(r,i):n(this)?t.event.remove(this,r,i):e.removeEvent.call(this,r,i),this},delegate:function(e,r,i){return this.delegate?this.delegate(e,r,i):n(this)&&t(this).delegate(e,r,i),this},undelegate:function(e,r,i){return this.undelegate?this.undelegate(e,r,i):n(this)&&t(this).undelegate(e,r,i),this},proxy:function(t,e){return function(){return t.apply(e,arguments)}}}),e.on=e.bind,e.off=e.unbind,t.each(["append","filter","addClass","remove","data","get","has"],function(t,n){e[n]=function(t){return t[n].apply(t,e.makeArray(arguments).slice(1))}});var r=t.cleanData;t.cleanData=function(n){t.each(n,function(t,n){n&&e.trigger(n,"removed",[],!1)}),r(n)};var i,a=t.fn.domManip;return t.fn.domManip=function(){for(var t=1;arguments.length>t;t++)if("function"==typeof arguments[t]){i=t;break}return a.apply(this,arguments)},t(document.createElement("div")).append(document.createElement("div")),t.fn.domManip=2===i?function(t,n,r){return a.call(this,t,n,function(t){var n=11===t.nodeType?e.makeArray(t.childNodes):null,i=r.apply(this,arguments);return e.inserted(n?n:[t]),i})}:function(t,n){return a.call(this,t,function(t){var r=11===t.nodeType?e.makeArray(t.childNodes):null,i=n.apply(this,arguments);return e.inserted(r?r:[t]),i})},t.event.special.inserted={},t.event.special.removed={},e}(jQuery,e,n,r,i),o=function(e){var n=/_|-/,r=/\=\=/,i=/([A-Z]+)([A-Z][a-z])/g,a=/([a-z\d])([A-Z])/g,o=/([a-z\d])([A-Z])/g,s=/\{([^\}]+)\}/g,u=/"/g,c=/'/g,l=/-+(.)?/g,f=/[a-z][A-Z]/g,h=function(e,n,r){var i=e[n];return i===t&&r===!0&&(i=e[n]={}),i},p=function(t){return/^f|^o/.test(typeof t)},d=function(e){var n=null===e||e===t||isNaN(e)&&"NaN"==""+e;return""+(n?"":e)};return e.extend(e,{esc:function(t){return d(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(u,"&#34;").replace(c,"&#39;")},getObject:function(n,r,i){var a,o,s,u,c=n?n.split("."):[],l=c.length,f=0;if(r=e.isArray(r)?r:[r||window],u=r.length,!l)return r[0];for(f;u>f;f++){for(a=r[f],s=t,o=0;l>o&&p(a);o++)s=a,a=h(s,c[o]);if(s!==t&&a!==t)break}if(i===!1&&a!==t&&delete s[c[o-1]],i===!0&&a===t)for(a=r[0],o=0;l>o&&p(a);o++)a=h(a,c[o],!0);return a},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},camelize:function(t){return d(t).replace(l,function(t,e){return e?e.toUpperCase():""})},hyphenate:function(t){return d(t).replace(f,function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()})},underscore:function(t){return t.replace(r,"/").replace(i,"$1_$2").replace(a,"$1_$2").replace(o,"_").toLowerCase()},sub:function(n,r,i){var a=[];return n=n||"",a.push(n.replace(s,function(n,o){var s=e.getObject(o,r,i===!0?!1:t);return s===t||null===s?(a=null,""):p(s)&&a?(a.push(s),""):""+s})),null===a?a:1>=a.length?a[0]:a},replacer:s,undHash:n}),e}(a),s=function(e){var n=0;return e.Construct=function(){return arguments.length?e.Construct.extend.apply(e.Construct,arguments):t},e.extend(e.Construct,{constructorExtends:!0,newInstance:function(){var t,e=this.instance();return e.setup&&(t=e.setup.apply(e,arguments)),e.init&&e.init.apply(e,t||arguments),e},_inherit:function(t,n,r){e.extend(r||t,t||{})},_overwrite:function(t,e,n,r){t[n]=r},setup:function(t){this.defaults=e.extend(!0,{},t.defaults,this.defaults)},instance:function(){n=1;var t=new this;return n=0,t},extend:function(r,i,a){function o(){return n?t:this.constructor!==o&&arguments.length&&o.constructorExtends?o.extend.apply(o,arguments):o.newInstance.apply(o,arguments)}"string"!=typeof r&&(a=i,i=r,r=null),a||(a=i,i=null),a=a||{};var s,u,c,l,f,h,p,d,g=this,m=this.prototype;d=this.instance(),e.Construct._inherit(a,m,d);for(f in g)g.hasOwnProperty(f)&&(o[f]=g[f]);e.Construct._inherit(i,g,o),r&&(s=r.split("."),h=s.pop(),u=e.getObject(s.join("."),window,!0),p=u,c=e.underscore(r.replace(/\./g,"_")),l=e.underscore(h),u[h]=o),e.extend(o,{constructor:o,prototype:d,namespace:p,_shortName:l,fullName:r,_fullName:c}),h!==t&&(o.shortName=h),o.prototype.constructor=o;var _=[g].concat(e.makeArray(arguments)),v=o.setup.apply(o,_);return o.init&&o.init.apply(o,v||_),o}}),e.Construct.prototype.setup=function(){},e.Construct.prototype.init=function(){},e.Construct}(o),u=function(e){var n,r=function(t,n,r){return e.bind.call(t,n,r),function(){e.unbind.call(t,n,r)}},i=e.isFunction,a=e.extend,o=e.each,s=[].slice,u=/\{([^\}]+)\}/g,c=e.getObject("$.event.special",[e])||{},l=function(t,n,r,i){return e.delegate.call(t,n,r,i),function(){e.undelegate.call(t,n,r,i)}},f=function(t,n,i,a){return a?l(t,e.trim(a),n,i):r(t,n,i)},h=e.Control=e.Construct({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Control){var t,n=this;n.actions={};for(t in n.prototype)n._isAction(t)&&(n.actions[t]=n._action(t))}},_shifter:function(t,n){var r="string"==typeof n?t[n]:n;return i(r)||(r=t[r]),function(){return t.called=n,r.apply(t,[this.nodeName?e.$(this):this].concat(s.call(arguments,0)))}},_isAction:function(t){var e=this.prototype[t],n=typeof e;return"constructor"!==t&&("function"===n||"string"===n&&i(this.prototype[e]))&&!!(c[t]||p[t]||/[^\w]/.test(t))},_action:function(r,i){if(u.lastIndex=0,i||!u.test(r)){var a=i?e.sub(r,this._lookup(i)):r;if(!a)return null;var o=e.isArray(a),s=o?a[1]:a,c=s.split(/\s+/g),l=c.pop();return{processor:p[l]||n,parts:[s,c.join(" "),l],delegate:o?a[0]:t}}},_lookup:function(t){return[t,window]},processors:{},defaults:{}},{setup:function(t,n){var r,i=this.constructor,o=i.pluginName||i._fullName;return this.element=e.$(t),o&&"can_control"!==o&&this.element.addClass(o),r=e.data(this.element,"controls"),r||(r=[],e.data(this.element,"controls",r)),r.push(this),this.options=a({},i.defaults,n),this.on(),[this.element,this.options]},on:function(n,r,i,a){if(!n){this.off();var o,s,u=this.constructor,c=this._bindings,l=u.actions,h=this.element,p=e.Control._shifter(this,"destroy");for(o in l)l.hasOwnProperty(o)&&(s=l[o]||u._action(o,this.options))&&c.push(s.processor(s.delegate||h,s.parts[2],s.parts[1],o,this));return e.bind.call(h,"removed",p),c.push(function(t){e.unbind.call(t,"removed",p)}),c.length}return"string"==typeof n&&(a=i,i=r,r=n,n=this.element),a===t&&(a=i,i=r,r=null),"string"==typeof a&&(a=e.Control._shifter(this,a)),this._bindings.push(f(n,i,a,r)),this._bindings.length},off:function(){var t=this.element[0];o(this._bindings||[],function(e){e(t)}),this._bindings=[]},destroy:function(){if(null!==this.element){var t,n=this.constructor,r=n.pluginName||n._fullName;this.off(),r&&"can_control"!==r&&this.element.removeClass(r),t=e.data(this.element,"controls"),t.splice(e.inArray(this,t),1),e.trigger(this,"destroyed"),this.element=null}}}),p=e.Control.processors;return n=function(t,n,r,i,a){return f(t,n,e.Control._shifter(a,i),r)},o(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave"],function(t){p[t]=n}),h}(a,s);(function(t){var e=t.isFunction,n=/xyz/.test(function(){return this.xyz})?/\b_super\b/:/.*/;return t.Construct._overwrite=function(t,r,i,a){t[i]=e(a)&&e(r[i])&&n.test(a)?function(t,e){return function(){var n,i=this._super;return this._super=r[t],n=e.apply(this,arguments),this._super=i,n}}(i,a):a},t.Construct._inherit=function(e,n,r){r=r||e;for(var i in e)t.Construct._overwrite(r,n,i,e[i])},t})(a,s),function(t){var e=(t.isFunction,t.isArray),n=t.makeArray,r=function(t){var r,i=n(arguments);return t=i.shift(),e(t)||(t=[t]),r=this,function(){for(var a,o,s=i.concat(n(arguments)),u=t.length,c=0;u>c;c++)o=t[c],o&&(a="string"==typeof o,s=(a?r[o]:o).apply(r,s||[]),u-1>c&&(s=!e(s)||s._use_call?[s]:s));return s}};t.Construct.proxy=t.Construct.prototype.proxy=r;for(var i=[t.Map,t.Control,t.Model],a=0;i.length>a;a++)i[a]&&(i[a].proxy=r);return t}(a,s),function(e,n){var r,i=function(t,e){var n=t.constructor.pluginName||t.constructor._shortName;for(r=0;e.length>r;r++)if("string"==typeof e[r]?n===e[r]:t instanceof e[r])return!0;return!1},a=n.makeArray,o=n.Control.setup;return n.Control.setup=function(){if(this!==n.Control){var t=this.pluginName||this._fullName;"can_control"!==t&&this.plugin(t),o.apply(this,arguments)}},e.fn.extend({controls:function(){var t,e,r=a(arguments),o=[];return this.each(function(){if(t=n.$(this).data("controls"))for(var a=0;t.length>a;a++)e=t[a],(!r.length||i(e,r))&&o.push(e)}),o},control:function(){return this.controls.apply(this,arguments)[0]}}),n.Control.plugin=function(r){var i=this;e.fn[r]||(e.fn[r]=function(r){var o,s=a(arguments),u="string"==typeof r&&e.isFunction(i.prototype[r]),c=s[0];return this.each(function(){var t=n.$(this).control(i);t?u?o=t[c].apply(t,s.slice(1)):t.update.apply(t,s):i.newInstance.apply(i,[this].concat(s))}),o!==t?o:this})},n.Control.prototype.update=function(t){n.extend(this.options,t),this.on()},n}(jQuery,a,u),window.can=e})();